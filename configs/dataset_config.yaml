# Dataset configuration for crisis-agent fine-tuning
# This pipeline fine-tunes Mistral-7B as a crisis companion application
# Configure your Hugging Face dataset here

dataset:
  # Hugging Face dataset identifier or local JSONL file path
  # Examples:
  #   - Public dataset: "username/dataset_name" or "dataset_name"
  #   - Private dataset: "username/private_dataset" (requires HF token)
  #   - With revision: "username/dataset_name:main" or "username/dataset_name:v1.0"
  #   - Local JSONL file: "data/crisis_response_json.jsonl" (relative to project root)
  # hf_dataset_name: "ianktoo/crisis-response-training"  # Original text dataset
  hf_dataset_name: "data/crisis_response_json.jsonl"  # Converted JSON dataset
  
  # Optional: Hugging Face token for private datasets
  # Set via environment variable: export HF_TOKEN="your_token_here"
  # Or uncomment and set below (not recommended for security)
  # hf_token: null
  
  # Optional: Dataset configuration name (for datasets with multiple configs)
  # dataset_config_name: null
  
  # Optional: Dataset revision/version
  # revision: "main"
  
  # Dataset split
  train_split: "train"
  eval_split: "validation"  # or "test" if no validation split
  
  # Dataset columns (adjust based on your dataset structure)
  # For original dataset: "Input" and "Output"
  # For converted JSON dataset: "instruction" and "response"
  # instruction_column: "Input"  # For original text dataset
  # response_column: "Output"  # For original text dataset
  instruction_column: "instruction"  # For JSON dataset
  response_column: "response"  # For JSON dataset
  
  # Data processing
  max_samples: -1  # -1 means use all samples, otherwise limit to this number
  shuffle: true
  shuffle_seed: 42
  
  # Caching
  cache_dir: "data/local_cache"
  use_cache: true
  
  # Prompt template (adjust based on your needs)
  prompt_template: |
    <s>[INST] {instruction} [/INST]
    {response}</s>
  
  # JSON validation
  # validate_json: false  # Disabled for text responses
  validate_json: true  # Enabled for JSON dataset
  strict_json: false  # If true, reject records with invalid JSON
